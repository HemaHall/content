category: Utilities
commonfields:
  id: remote_file_management
  version: -1
configuration:
- display: Hostname or IP of server
  name: hostname
  required: true
  type: 0
- display: server port
  name: port
  required: false
  type: 0
- display: SSH credentials to server (username and certificate)
  name: Authentication
  required: true
  type: 9
- display: SSH extra params(e.g "-c ChaCha20")
  name: ssh_extra_params
  required: false
  type: 0
- display: SCP extra params(e.g "-c ChaCha20 -l 8000")
  name: scp_extra_params
  required: false
  type: 0
- display: Document root (e.g files/www/html/files)
  name: document_root
  required: false
  type: 0
description: This integration allows managing and editing files located on a remote
  web-server via SSH using integration context as Single Source of Truth
display: Remote File Management
name: Remote File Management
script:
  commands:
  - arguments:
    - default: false
      description: Unique path to external file
      isArray: false
      name: file_path
      required: true
      secret: false
    deprecated: false
    description: Display external file content in the war-room
    execution: false
    name: rfm-get-external-file
  - arguments:
    - default: false
      description: Unique path to file
      isArray: false
      name: file_path
      required: true
      secret: false
    - default: false
      description: String to search in the external file
      isArray: false
      name: search_string
      required: true
      secret: false
    deprecated: false
    description: Search a string on external file
    execution: false
    name: rfm-search-external-file
  - arguments:
    - default: false
      description: List from instance context to override the external file
      isArray: false
      name: list_name
      required: true
      secret: false
    - default: false
      description: Unique path to file
      isArray: false
      name: file_path
      required: true
      secret: false
    - auto: PREDEFINED
      default: false
      defaultValue: 'false'
      description: Print updated external file to the war-room. default is "false"
      isArray: false
      name: verbose
      predefined:
      - 'true'
      - 'false'
      required: false
      secret: false
    - default: false
      description: Items of list
      isArray: true
      name: list_items
      required: true
      secret: false
    - auto: PREDEFINED
      default: false
      defaultValue: add
      description: Add or Remove from list
      isArray: false
      name: add_or_remove
      predefined:
      - add
      - remove
      required: true
      secret: false
    deprecated: false
    description: Updates the instance context with the list name and items given and
      then Override external file path with internal list
    execution: true
    name: rfm-update
  - arguments:
    - name: file_path
      required: true
      description: Unique path to external file
    - name: list_name
      required: true
      description: Name of list
    - name: type
      required: true
      auto: PREDEFINED
      predefined:
      - merge
      - override
      description: Type of update. Merge will added non duplicate values, Override
        will delete existing data in the internal list
      defaultValue: merge
    - name: verbose
      auto: PREDEFINED
      predefined:
      - "true"
      - "false"
      description: Print updated internal list to the war-room. default is "false"
      defaultValue: "false"
    deprecated: false
    description: Updates internal list data with external file contents
    execution: true
    name: rfm-update-from-external-file
  - arguments:
    - default: false
      description: Unique path to file
      isArray: false
      name: file_path
      required: true
      secret: false
    deprecated: false
    description: Delete external file
    execution: true
    name: rfm-delete-external-file
  - arguments:
    - default: false
      description: Name of list
      isArray: false
      name: list_name
      required: true
      secret: false
    deprecated: false
    description: Display internal list data in the war-room
    execution: false
    name: rfm-print-internal-list
  - arguments:
    - auto: PREDEFINED
      default: false
      defaultValue: file
      description: List data destination
      isArray: false
      name: destination
      predefined:
      - file
      - incident_context
      required: true
      secret: false
    - default: false
      description: Name of list
      isArray: false
      name: list_name
      required: true
      secret: false
    deprecated: false
    description: Dump instance context to either incident context or file
    execution: false
    name: rfm-dump-internal-list
  - deprecated: false
    description: Display instance context lists names
    execution: false
    name: rfm-list-internal-lists
  - arguments:
    - default: false
      description: Name of list
      isArray: false
      name: list_name
      required: true
      secret: false
    - default: false
      description: String to search in the external file
      isArray: false
      name: search_string
      required: true
      secret: false
    deprecated: false
    description: Search a string on internal list
    execution: false
    name: rfm-search-internal-list
  - arguments:
    - default: false
      description: Name of list
      isArray: false
      name: list_name
      required: true
      secret: false
    - default: false
      description: Unique path to external file
      isArray: false
      name: file_path
      required: true
      secret: false
    deprecated: false
    description: Compares internal list and external file contets
    execution: false
    name: rfm-compare
  dockerimage: devdemisto/openssh:1.0.0.255
  isfetch: false
  runonce: false
  script: '-'
  type: python
tests:
- Remote File Management - Test
releaseNotes: Manage remote files hosted on a web-server using integration context.